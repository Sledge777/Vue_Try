{"ast":null,"code":"import { ref, onMounted } from 'vue';\nexport function useLists(limit) {\n  const lists = ref([]);\n  const maxLists = ref(0);\n  const fetching = async () => {\n    try {\n      this.page += 1;\n      const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\n        params: {\n          _page: 1,\n          _limit: limit\n        }\n      });\n      maxLists.value = Math.ceil(response.headers['x-total-count'] / this.limit);\n      lists.value = [...lists.value, ...response.data];\n    } catch {\n      alert('пизда');\n    }\n  };\n  onMounted(fetching);\n  return {\n    lists,\n    maxLists\n  };\n}","map":{"version":3,"names":["ref","onMounted","useLists","limit","lists","maxLists","fetching","page","response","axios","get","params","_page","_limit","value","Math","ceil","headers","data","alert"],"sources":["C:/Users/bogda/Downloads/Vue_Try/src/hooks/useLists.js"],"sourcesContent":["import {ref,onMounted} from 'vue'\r\n\r\nexport function useLists(limit) {\r\n    const lists = ref([])\r\n    const maxLists = ref(0)\r\n    const fetching = async () => {\r\n        try {\r\n            this.page += 1;\r\n            const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n                params: {\r\n                    _page: 1,\r\n                    _limit: limit,\r\n                }\r\n            });\r\n            maxLists.value = Math.ceil(response.headers['x-total-count'] / this.limit)\r\n            lists.value = [...lists.value, ...response.data]\r\n\r\n        }catch {\r\n            alert('пизда')\r\n        }\r\n    }\r\n    onMounted(fetching)\r\n        \r\n    return {\r\n        lists, maxLists\r\n    }\r\n}"],"mappings":"AAAA,SAAQA,GAAG,EAACC,SAAS,QAAO,KAAK;AAEjC,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAE;EAC5B,MAAMC,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;EACrB,MAAMK,QAAQ,GAAGL,GAAG,CAAC,CAAC,CAAC;EACvB,MAAMM,QAAQ,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI;MACA,IAAI,CAACC,IAAI,IAAI,CAAC;MACd,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAC,4CAA4C,EAAE;QAC3EC,MAAM,EAAE;UACJC,KAAK,EAAE,CAAC;UACRC,MAAM,EAAEV;QACZ;MACJ,CAAC,CAAC;MACFE,QAAQ,CAACS,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACR,QAAQ,CAACS,OAAO,CAAC,eAAe,CAAC,GAAG,IAAI,CAACd,KAAK,CAAC;MAC1EC,KAAK,CAACU,KAAK,GAAG,CAAC,GAAGV,KAAK,CAACU,KAAK,EAAE,GAAGN,QAAQ,CAACU,IAAI,CAAC;IAEpD,CAAC,OAAM;MACHC,KAAK,CAAC,OAAO,CAAC;IAClB;EACJ,CAAC;EACDlB,SAAS,CAACK,QAAQ,CAAC;EAEnB,OAAO;IACHF,KAAK;IAAEC;EACX,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}